(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{84162:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t(9268),i=t(86006);let a=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;class s extends Error{details;name;constructor(e,n=[]){super(e),this.details=n,this.name="ZodValidationError"}toString(){return this.message}}var o=t(49117),c=t(23272),l=t(92391);let u=l.ZP.object({startTime:l.ZP.string().datetime(),durationMins:l.ZP.number().positive().int(),title:l.ZP.string(),shortDesc:l.ZP.string(),longDesc:l.ZP.string(),categories:l.ZP.string().array()}),d=l.ZP.object({q:l.ZP.string().nonempty(),a:l.ZP.string().nonempty()});var _=t(40031);let f={event:u,faq:d};function m(e){let{text:n,postUrl:t,schema:l}=e,[u,d]=(0,i.useState)(n),[m,x]=(0,i.useState)(),v=async()=>{try{let e=h();e&&await (0,_.SD)(t,u)}catch(e){x((0,_.n)(e))}},h=()=>{try{let e=JSON.parse(u);d(JSON.stringify(e,void 0,4));let n=f[l].array().safeParse(e);if(n.success)return x(void 0),!0;x(function(e,n={}){let{maxIssuesInMessage:t=99,issueSeparator:r="; ",unionSeparator:i=", or ",prefixSeparator:o=": ",prefix:c="Validation error"}=n,l=e.errors.slice(0,t).map(e=>(function e(n,t,r){if("invalid_union"===n.code)return n.unionErrors.reduce((n,i)=>{let a=i.issues.map(n=>e(n,t,r)).join(t);return n.includes(a)||n.push(a),n},[]).join(r);if(0!==n.path.length){var i;if(1===n.path.length){let e=n.path[0];if("number"==typeof e)return`${n.message} at index ${e}`}return`${n.message} at "${1===(i=n.path).length?i[0].toString():i.reduce((e,n)=>{if("number"==typeof n)return e+"["+n.toString()+"]";if(n.includes('"'))return e+'["'+n.replace(/"/g,'\\"')+'"]';if(!a.test(n))return e+'["'+n+'"]';let t=0===e.length?"":".";return e+t+n},"")}"`}return n.message})(e,r,i)).join(r),u=l?[c,l].join(o):c;return new s(u,e.errors)}(n.error).message)}catch(e){x((0,_.n)(e))}return!1};return(0,r.jsxs)(o.x,{direction:"column",gap:"1rem",children:[m,(0,r.jsx)("textarea",{id:"json",rows:16,cols:80,value:u,onChange:e=>d(e.target.value)}),(0,r.jsxs)(o.x,{direction:"row",gap:"1rem",children:[(0,r.jsx)(c.zx,{onClick:v,children:"Save"}),(0,r.jsx)(c.zx,{kind:"secondary",onClick:h,children:"Validate"})]})]})}},49117:function(e,n,t){"use strict";t.d(n,{x:function(){return c}});var r=t(9268),i=t(8683),a=t.n(i),s=t(84554),o=t.n(s);function c(e){let{as:n="div",display:t="flex",direction:i="row",justifyContent:s="normal",alignItems:c="stretch",wrap:l="nowrap",gap:u,className:d,style:_,children:f,...m}=e,x="flex"===t||"inline-flex"===t;return(0,r.jsx)(n,{className:a()(o()[t],{[o()["flex-".concat(i)]]:x,[o()["justify-".concat(s)]]:x,[o()["align-".concat(c)]]:x,[o()["flex-wrap-".concat(l)]]:x},d),style:{..._&&_,...u&&{gap:u}},...m,children:f})}},4527:function(e,n,t){"use strict";t.d(n,{C:function(){return c}});var r=t(9268),i=t(4106),a=t(20943),s=t(86006),o=t(23272);function c(e){let{selected:n=!1,text:t,...c}=e,l=(0,s.useId)();return(0,r.jsxs)(o.zx,{kind:n?"primary":"secondary",role:"checkbox","aria-checked":n,id:l,"aria-labelledby":l,...c,children:[n?(0,r.jsx)(i.Z,{"aria-hidden":!0}):(0,r.jsx)(a.Z,{"aria-hidden":!0}),t]})}},23272:function(e,n,t){"use strict";t.d(n,{zx:function(){return c}});var r=t(9268),i=t(8683),a=t.n(i);t(35846);var s=t(70310),o=t.n(s);function c(e){let{children:n,className:t,kind:i="primary",type:s="button",...c}=e;return(0,r.jsx)("button",{type:s,className:a()(o().button,o()[i],t),...c,children:n})}t(4527)},23880:function(e,n,t){"use strict";t.d(n,{X:function(){return c}});var r=t(9268),i=t(8683),a=t.n(i),s=t(23645),o=t.n(s);let c=e=>{let{level:n=1,children:t,className:i,...s}=e;return(0,r.jsx)(n?"h".concat(n):"h1",{className:a()(o().heading,i),...s,children:t})}},44468:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(9268),i=t(86006),a=t(40031),s=t(49117),o=t(4527);let c=e=>{let{allSelected:n,groupId:t,items:a,onUpdate:c}=e,[l,u]=(0,i.useState)(Array(a.length).fill(!!n)),d=e=>{let n=l.map((n,t)=>t===e?!n:n);u(n),null==c||c(a.filter((e,t)=>n[t]))};return(0,r.jsx)(s.x,{direction:"row",style:{gap:"0.5rem"},wrap:"wrap",children:a.map((e,n)=>(0,r.jsx)(o.C,{selected:l[n],onClick:()=>d(n),text:e},"".concat(t,"-").concat(n)))})};var l=t(8683),u=t.n(l),d=t(99329),_=function(){return(_=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},f=i.forwardRef(function(e,n){var t=_(_({},i.useContext(d.s)),e);return i.createElement("svg",_({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:n},t),i.createElement("path",{d:"M6 12h12.5m0 0l-6-6m6 6l-6 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))}),m=t(67201),x=t.n(m);function v(e){let{children:n,dangerouslySetInnerHTMLOnChildren:t,summary:i,className:a,summaryClassName:s,summaryProps:o}=e;return(0,r.jsxs)("details",{className:u()(x().accordion,a),children:[(0,r.jsxs)("summary",{className:s,...o,children:[i," ",(0,r.jsx)(f,{"aria-hidden":!0})]}),(0,r.jsx)("div",{className:x().child,dangerouslySetInnerHTML:t,children:n})]})}var h=t(23880),p=t(40665),g=t.n(p),j=t(72453),w=t.n(j);let y=e=>{let{active:n,...t}=e;return(0,r.jsx)("div",{className:u()(w().eventStatus,"hiddenOnSmallScreen",{[w().active]:!0===n}),...t})},S=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),b=e=>{let n=Math.floor(e/1440),t=Math.floor(e%1440/60),r=e%60,i=[];return n>0&&i.push("".concat(n,"d")),t>0&&i.push("".concat(t,"h")),r>0&&i.push("".concat(r," min")+(r>1?"s":"")),i.join(" ")},T=e=>{let{active:n,dangerousLongDescInHTML:t,event:{startTime:i,durationMins:a,title:o,shortDesc:c,longDesc:l}}=e,d=new Date(i),_=S(d),f=b(a);return(0,r.jsxs)(s.x,{as:"div",direction:"row",className:g().eventContainer,children:[(0,r.jsx)(y,{active:n}),(0,r.jsx)(v,{className:g().eventCardContainer,summary:(0,r.jsxs)(s.x,{as:"div",direction:"row",alignItems:"center",className:g().summaryContainer,children:[(0,r.jsxs)(s.x,{as:"span",direction:"column",className:g().eventTime,children:[(0,r.jsx)("time",{className:g().eventStartTime,dateTime:d.toISOString(),children:_}),(0,r.jsx)("time",{className:g().eventLength,dateTime:d.toLocaleTimeString("en-US",{hour12:!1}),children:f})]}),(0,r.jsx)("div",{className:u()(g().eventDivider,"hiddenOnSmallScreen"),"aria-hidden":!0}),(0,r.jsxs)(s.x,{as:"span",direction:"column",gap:".25rem",className:g().eventText,children:[(0,r.jsx)(h.X,{level:3,className:g().eventTitle,children:o}),(0,r.jsx)("span",{className:g().eventShortDesc,children:c})]})]}),dangerouslySetInnerHTMLOnChildren:t?{__html:t}:void 0,children:t?void 0:l})]})};var D=t(22962),B=t.n(D);let C=e=>{let{children:n}=e;return(0,r.jsx)(h.X,{level:3,className:B().eventHeading,children:n})};var E=t(16679),N=t.n(E);let P=e=>{let{children:n,...t}=e;return(0,r.jsx)(s.x,{direction:"column",alignItems:"stretch",gap:".5rem",className:N().timeline,...t,children:n})};function k(e){let{events:n}=e,t=new Date().getTime(),o=(0,a.D8)(n.flatMap(e=>e.categories)),l=function(e){let n={};for(let i of e){var t,r;let{startTime:e}=i,a=new Date(e).toLocaleDateString(void 0,{month:"long",day:"numeric"});(null!==(r=(t=n)[a])&&void 0!==r?r:t[a]=[]).push(i)}return n}(n);(0,a.D8)(n.map(e=>new Date(e.startTime).getMonth()+1+"-"+new Date(e.startTime).getDate()));let[u,d]=(0,i.useState)(o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.x,{direction:"row",gap:"2rem",style:{margin:"2rem 0"},children:(0,r.jsx)(c,{groupId:"event-filter",allSelected:!0,items:o,onUpdate:e=>d(e)})}),(0,r.jsx)(s.x,{as:"section",direction:"column",gap:"2rem",children:Object.entries(l).map(e=>{let[n,i]=e;return(0,r.jsxs)(s.x,{as:"section",display:"block",children:[(0,r.jsx)(C,{children:n}),(0,r.jsx)(P,{children:i.filter(e=>e.categories.some(e=>u.includes(e))).map(e=>(0,r.jsx)(T,{active:new Date(e.startTime).getTime()<=t&&t<=new Date(e.startTime).getTime()+6e4*e.durationMins,dangerousLongDescInHTML:e.longDesc,event:e},e.startTime+e.title))})]},n)})})]})}},40031:function(e,n,t){"use strict";t.d(n,{D8:function(){return i.D8},SD:function(){return i.SD},SG:function(){return a},hT:function(){return s},n:function(){return i.n},w6:function(){return i.w6}});var r=t(730),i=t(11558);let a=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return fetch(...n).then(e=>e.json())};function s(){let{data:e,error:n,isLoading:t}=(0,r.ZP)("/api/auth/enhanced-session",a);return{user:null==e?void 0:e.user,perms:null==e?void 0:e.perms,isError:!!n,isLoading:t}}},11558:function(e,n,t){"use strict";function r(e,n){return Array(n-e).fill(void 0).map((n,t)=>t+e)}function i(e){return e instanceof Error?e.message:JSON.stringify(e)}function a(e){return[...new Set(e)]}t.d(n,{D8:function(){return a},Er:function(){return s},SD:function(){return c},ho:function(){return o},n:function(){return i},w6:function(){return r}});let s=e=>({label:e.toString(),value:e.toString()}),o=e=>Object.values(e.Values).map(s);async function c(e,n){let t=await (await fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n})).json();if("success"===t.status)window.location.reload();else throw Error(i(t))}},33799:function(e,n,t){Promise.resolve().then(t.t.bind(t,84554,23)),Promise.resolve().then(t.t.bind(t,46957,23)),Promise.resolve().then(t.t.bind(t,23645,23)),Promise.resolve().then(t.bind(t,44468)),Promise.resolve().then(t.bind(t,84162))},46957:function(e){e.exports={pageSection:"PageSection_pageSection__zkKAe"}},67201:function(e){e.exports={accordion:"Accordion_accordion__SagxK",child:"Accordion_child__Z5vxT"}},84554:function(e){e.exports={block:"Box_block__da5fs",inline:"Box_inline__wCYvk","inline-block":"Box_inline-block__Yrkhv",flex:"Box_flex__JhI0U","inline-flex":"Box_inline-flex__dtW6n","flex-row":"Box_flex-row__fG85B","flex-column":"Box_flex-column__jT9Rc","flex-row-reverse":"Box_flex-row-reverse__6S__G","flex-column-reverse":"Box_flex-column-reverse__hgrzb","justify-start":"Box_justify-start__cdy3Q","justify-end":"Box_justify-end__4fCiM","justify-center":"Box_justify-center__1AObA","justify-normal":"Box_justify-normal__WebY6","justify-space-between":"Box_justify-space-between__iDICW","justify-space-around":"Box_justify-space-around__a5Tn7","justify-space-evenly":"Box_justify-space-evenly__rQV3Z","align-start":"Box_align-start__QPKwC","align-end":"Box_align-end__mb1LD","align-center":"Box_align-center__NeAro","align-baseline":"Box_align-baseline__xTt1B","align-stretch":"Box_align-stretch__WOwGu","flex-wrap-nowrap":"Box_flex-wrap-nowrap__4azi5","flex-wrap-wrap":"Box_flex-wrap-wrap__i6jz5","flex-wrap-wrap-reverse":"Box_flex-wrap-wrap-reverse__BysSU"}},70310:function(e){e.exports={button:"Button_button__L2wUb",primary:"Button_primary__wnomA",secondary:"Button_secondary__HrEDu"}},23645:function(e){e.exports={heading:"Heading_heading__209rB"}},40665:function(e){e.exports={eventContainer:"Event_eventContainer__MP0ZT",eventCardContainer:"Event_eventCardContainer__T3jIO",eventDivider:"Event_eventDivider__LAtJj",eventStartTime:"Event_eventStartTime__SdDXi",eventLength:"Event_eventLength__VZYY5",eventTitle:"Event_eventTitle__0W3qR",eventShortDesc:"Event_eventShortDesc__VHYr1",summaryContainer:"Event_summaryContainer__oWFaS",eventTime:"Event_eventTime__3sqqL"}},22962:function(e){e.exports={eventHeading:"EventHeading_eventHeading__fnvjf"}},72453:function(e){e.exports={eventStatus:"EventStatus_eventStatus__PA_SB",active:"EventStatus_active__lJPEP"}},16679:function(e){e.exports={timeline:"EventTimeline_timeline__kqW0H"}}},function(e){e.O(0,[619,984,347,667,961,744],function(){return e(e.s=33799)}),_N_E=e.O()}]);